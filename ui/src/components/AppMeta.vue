<template>
  <footer>
    <div class="inner">
      <p class="subtle-spacing">
        Katharsis.lol by
        <a href="http://www.sternapau.de/"
           rel="noreferrer"
           target="_blank">sterna | pau</a>
        <small>(<a :href="versionLink"
                   rel="noreferrer"
                   target="_blank"
                   class="appmeta__version">Version {{version}}</a>)</small>
        <a v-if="imprintLink"
           :href="imprintLink"
           rel="noreferrer"
           class="appmeta__imprint">{{ $t('legal.imprint') }}</a>
        <router-link :to="{ name: 'datapage'}" class="appmeta__gdpa">{{ $t('legal.gdpr') }}</router-link>
        <label for="lang-switch" class="a11y-hidden">{{ $t('ui.form.langSwitch') }}</label>
        <select id="lang-switch" v-model="$i18n.locale">
          <option v-for="locale in $i18n.availableLocales" :key="`locale-${locale}`" :value="locale">{{ locale }}</option>
        </select>
      </p>

    </div>
  </footer>
</template>
<script>
 import { version, homepage } from '../../package.json'

 export default {
   name: 'AppMeta',
   computed: {
     version() {
       return version;
     },
     imprintLink() {
       return this.$root.$data.imprintLink;
     },
     versionLink() {
       return `${homepage}/releases/tag/v${this.version}`
     }
   }
  }
</script>
